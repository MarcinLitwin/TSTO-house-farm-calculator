<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>Tapped Out Calculator</title>
        <link rel="stylesheet" href="./style.css" />
    </head>
    <body>
        <button type="button" onclick="howMuchHouseAndIncome()">
            How much can i make from my houses? On one go or whole day. Just one
            type of houses at the moment
        </button>
        <button type="button" onclick="calculateKEMfarm()">
            Calculate how much will i make on KEM farm, HAVE AT LEAST 91K GOLD
        </button>
        <script>
            function howMuchHouseAndIncome() {
                /*// Input how much money you have to spend
                let money = parseInt(
                    prompt('How much money do you have to spend?')
                );
                    OLD CODE
                // Input how much house costs
                let cost = parseInt(prompt('How much does the house cost?')); */

                // Input how many houses user have
                let amount = parseInt(prompt('How many houses do you have'));

                // Input how much house produces
                let production = parseInt(
                    prompt('How much does one house produce?')
                );

                // Input how much bonus you have
                let bonus = parseInt(prompt('How much bonus do you have?'));

                //PART OF CALCULATIONS
                /*
                //How much houses can we build? money/cost
                let howMuch = money / cost;
                console.log('howMuch' + howMuch);
                */
                // production by one time: howMuch * production
                let income = amount * production;
                console.log('income' + income);

                //final income: income + income*bonus
                let finalIncome = income + income * (0.01 * bonus);
                console.log('finalIncome' + finalIncome);

                // Ask do you want to calculate daily income
                let doDaily = confirm('Do you want to calculate daily income?');

                // If yes ask how much time daily you have
                // and how often houses produce
                // Output effect
                if (doDaily == 1) {
                    let timeByDay = parseInt(
                        prompt('How long do you plan to play by day')
                    );
                    let timeToProduct = parseInt(
                        prompt('How often does houses produce?')
                    );

                    //How much daily we can product? final income*(timeByDay/timeToProduct)

                    let productionByDay =
                        finalIncome * (timeByDay / timeToProduct);
                    alert(`You will be making ${productionByDay} every day`);
                } else {
                    alert(
                        `You will be producing ${finalIncome} on one collection`
                    );
                }
            }

            function calculateKEMfarm() {
                //Given Input from user (daily income or silver to spend)
                let money = parseInt(
                    prompt(
                        'How much money you have to spend? (on one round of placing'
                    )
                );
                console.log('money' + money);
                //Ask how much bonus do you have
                let bonus = parseInt(prompt('How much bonus do you have?'));
                console.log('bonus' + bonus);

                // Ask for activated collider
                let colliderMulti;
                let collider = confirm('Do you have your collider active?');
                if (collider == true) {
                    colliderMulti = 5;
                } else {
                    colliderMulti = 1;
                }
                console.log('collider' + colliderMulti);

                //Calculate how much KEM you can buy PRICE OF FIRST 26 KEMS 90170
                let howMuch = (money - 90170) / 14400;
                let finalHowMuch = Math.floor(howMuch) + 26;
                console.log('that many KEMs' + finalHowMuch);

                //Ask for lvl of player
                let level = parseInt(
                    prompt(
                        'Which lvl are you currently? works from 60+ at the moment'
                    )
                );
                let expRequired;
                if (level > 60 && level < 101) {
                    expRequired = 40000;
                } else if (level > 100) {
                    expRequired = 500000;
                } else {
                    alert(
                        'You have to low level for this calculator. SORRY! Maybe this will change some day'
                    );
                }
                console.log('level' + level);
                console.log('expRequired' + expRequired);

                //Calculate how much lvls you will make and show lowest ammount of donuts EACH KEM GIVE 2000 xp
                let gainedLevels =
                    (2000 * (bonus * 0, 01) * colliderMulti * finalHowMuch) /
                    expRequired;

                console.log('levels gained' + gainedLevels);

                let realGainedLevels = Math.floor(gainedLevels);
                console.log('really gained levels' + realGainedLevels);

                let donuts = realGainedLevels;
                alert(
                    `You will gain ${realGainedLevels} levels and at least ${donuts} donuts`
                );
                console.log('donuts' + donuts);
            }
        </script>
    </body>
</html>
